<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Révisions - Linux Expert - Romain Altinkaya</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@800&family=Outfit:wght@300;400;600&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="stylesheet" href="../assets/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
</head>
<body>
    <div id="particles-js"></div>
    <div id="header-placeholder"></div>

    <main class="container">
        <header class="hero">
            <h1>Administration Linux (Debian/RHEL)</h1>
            <p class="terminal-text">_TSSR_ROOT_ACCESS_GRANTED</p>
        </header>

        <div class="course-layout">
            
            <aside class="course-sidebar">
                <h3>Sommaire Expert</h3>
                <ul>
                    <li><a href="#arbo"><i class="fas fa-chevron-right"></i> Arborescence & Fichiers</a></li>
                    <li><a href="#perms"><i class="fas fa-chevron-right"></i> Perms Avancées (ACL)</a></li>
                    <li><a href="#lvm"><i class="fas fa-chevron-right"></i> Disques & LVM</a></li>
                    <li><a href="#process"><i class="fas fa-chevron-right"></i> Processus & Systemd</a></li>
                    <li><a href="#network"><i class="fas fa-chevron-right"></i> Réseau & SSH</a></li>
                    <li><a href="#bash"><i class="fas fa-chevron-right"></i> Scripting Bash</a></li>
                </ul>
            </aside>

            <div class="course-content">
                
                <section id="arbo" class="card">
                    <div class="card-header">
                        <i class="fas fa-folder-tree card-icon-main"></i>
                        <h2>1. Arborescence FHS (File Hierarchy Standard)</h2>
                    </div>
                    <p>Sous Linux, "Tout est fichier". Comprendre où ranger les choses est la base.</p>
                    <ul>
                        <li><strong>/etc :</strong> Fichiers de configuration (ex: <code>/etc/network/interfaces</code>, <code>/etc/passwd</code>).</li>
                        <li><strong>/var :</strong> Données variables (Logs dans <code>/var/log</code>, Site Web dans <code>/var/www</code>).</li>
                        <li><strong>/dev :</strong> Périphériques matériels (Disques <code>sda</code>, terminaux <code>tty</code>).</li>
                        <li><strong>/proc :</strong> Système de fichiers virtuel (Info Noyau, CPU, RAM). N'existe qu'en RAM.</li>
                        <li><strong>/home :</strong> Dossiers personnels des utilisateurs.</li>
                    </ul>

                    <div class="terminal-block">
                        <div class="terminal-header">Commandes de recherche</div>
                        <code># Trouver les fichiers modifiés il y a moins de 24h
find /home -mtime -1

# Chercher "ERROR" dans tous les logs (insensible à la casse)
grep -ri "error" /var/log/</code>
                    </div>
                </section>

                <section id="perms" class="card">
                    <div class="card-header">
                        <i class="fas fa-key card-icon-main"></i>
                        <h2>2. Droits : UGO, SUID & ACL</h2>
                    </div>
                    
                    <h3>A. Droits Standards (Octal)</h3>
                    <p>User (u) / Group (g) / Others (o). Lecture (4) + Écriture (2) + Exécution (1).</p>
                    
                    <h3>B. Droits Spéciaux (Le piège de l'examen)</h3>
                    <div class="table-responsive">
                        <table style="width:100%; color: var(--text-dim); font-size: 0.85rem; border-collapse: collapse;">
                            <thead>
                                <tr style="border-bottom: 1px solid var(--accent);">
                                    <th>Nom</th>
                                    <th>Code</th>
                                    <th>Effet</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="color: var(--accent);">SUID (Set User ID)</td>
                                    <td>u+s (4000)</td>
                                    <td>Exécute le fichier avec les droits du <strong>propriétaire</strong> (ex: la commande <code>passwd</code>).</td>
                                </tr>
                                <tr>
                                    <td style="color: var(--accent);">SGID (Set Group ID)</td>
                                    <td>g+s (2000)</td>
                                    <td>Dans un dossier : les fichiers créés héritent du <strong>groupe</strong> du dossier parent (Collaboratif).</td>
                                </tr>
                                <tr>
                                    <td style="color: var(--accent);">Sticky Bit</td>
                                    <td>+t (1000)</td>
                                    <td>Seul le propriétaire peut supprimer son fichier (Utilisé sur <code>/tmp</code>).</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3>C. ACL (Access Control Lists)</h3>
                    <p>Quand UGO ne suffit pas (ex: donner des droits à 2 utilisateurs spécifiques).</p>
                    <div class="terminal-block">
                        <div class="terminal-header">Gestion des ACL</div>
                        <code># Donner rwx à l'utilisateur "jean" sur un fichier
setfacl -m u:jean:rwx fichier.txt

# Voir les ACL
getfacl fichier.txt</code>
                    </div>
                </section>

                <section id="lvm" class="card">
                    <div class="card-header">
                        <i class="fas fa-hdd card-icon-main"></i>
                        <h2>3. Stockage & LVM (Logical Volume Manager)</h2>
                    </div>
                    <p>LVM permet de redimensionner des partitions à chaud. C'est indispensable en entreprise.</p>
                    
                    <div class="note-box">
                        <i class="fas fa-layer-group"></i>
                        <p><strong>Hiérarchie LVM :</strong><br>
                        1. <strong>PV (Physical Volume) :</strong> Le disque dur brut (/dev/sdb).<br>
                        2. <strong>VG (Volume Group) :</strong> Le "sac" de stockage global.<br>
                        3. <strong>LV (Logical Volume) :</strong> La partition virtuelle qu'on formate et monte.</p>
                    </div>

                    <div class="terminal-block">
                        <div class="terminal-header">Création LVM Complète</div>
                        <code># 1. Créer le Volume Physique
pvcreate /dev/sdb

# 2. Créer le Groupe de Volume "data_vg"
vgcreate data_vg /dev/sdb

# 3. Créer un Volume Logique de 10Go
lvcreate -n backups_lv -L 10G data_vg

# 4. Formater (EXT4) et Monter
mkfs.ext4 /dev/data_vg/backups_lv
mount /dev/data_vg/backups_lv /mnt/backups</code>
                    </div>
                </section>

                <section id="process" class="card">
                    <div class="card-header">
                        <i class="fas fa-microchip card-icon-main"></i>
                        <h2>4. Processus & Services</h2>
                    </div>
                    
                    <h3>A. Gestion des Processus</h3>
                    <ul>
                        <li><strong>PID :</strong> Process ID (Identifiant unique).</li>
                        <li><strong>Signaux :</strong>
                            <ul>
                                <li><code>SIGTERM (15)</code> : "Ferme-toi proprement s'il te plaît" (Défaut).</li>
                                <li><code>SIGKILL (9)</code> : "Meurs tout de suite" (Arrêt forcé, perte de données possible).</li>
                            </ul>
                        </li>
                    </ul>

                    <h3>B. Systemd (Systemctl)</h3>
                    <p>Le gestionnaire de démarrage moderne (PID 1).</p>
                    <div class="terminal-block">
                        <div class="terminal-header">Gestion Services & Logs</div>
                        <code># Activer un service au démarrage
systemctl enable apache2

# Analyser pourquoi un service a planté (CRUCIAL)
journalctl -xe
journalctl -u apache2 -f  # Logs en direct</code>
                    </div>
                </section>

                <section id="network" class="card">
                    <div class="card-header">
                        <i class="fas fa-network-wired card-icon-main"></i>
                        <h2>5. Réseau & Sécurité SSH</h2>
                    </div>
                    
                    <h3>A. Configuration IP (Moderne)</h3>
                    <p>On n'utilise plus <code>ifconfig</code> (obsolète), mais la suite <code>ip</code>.</p>
                    <ul>
                        <li>Voir les IP : <code>ip a</code> (ou <code>ip addr show</code>)</li>
                        <li>Voir la passerelle : <code>ip route</code></li>
                        <li>Voir les ports ouverts : <code>ss -lntp</code> (Remplace netstat)</li>
                    </ul>

                    <h3>B. Sécuriser SSH (/etc/ssh/sshd_config)</h3>
                    <p>Avant de mettre un serveur en prod, changez ces 3 lignes :</p>
                    <div class="terminal-block">
                        <div class="terminal-header">Config SSH Sécurisée</div>
                        <code>PermitRootLogin no        # Interdire root direct
PasswordAuthentication no # Clés SSH uniquement
Port 2222                 # Changer le port par défaut (Anti-bot)</code>
                    </div>
                </section>

                <section id="bash" class="card">
                    <div class="card-header">
                        <i class="fas fa-code card-icon-main"></i>
                        <h2>6. Scripting Bash Automatisé</h2>
                    </div>
                    <p>Savoir automatiser une sauvegarde est un TP classique.</p>
                    
                    <div class="terminal-block">
                        <div class="terminal-header">backup.sh (Boucle & Condition)</div>
                        <code>#!/bin/bash

# Variables
DEST="/var/backups"
DATE=$(date +%Y-%m-%d)
USERS=("jean" "paul" "admin")

# Vérifier si le dossier existe
if [ ! -d "$DEST" ]; then
    mkdir -p "$DEST"
fi

# Boucle sur les utilisateurs
for USER in "${USERS[@]}"; do
    echo "Sauvegarde de $USER..."
    tar -czf "$DEST/$USER-$DATE.tar.gz" "/home/$USER" 2>/dev/null
done

echo "Sauvegarde terminée !"</code>
                    </div>
                </section>

            </div>
        </div>
    </main>

    <footer><p>© 2026 — Altinkaya Romain | SysAdmin Linux</p></footer>
    <script src="../assets/js/script.js"></script>
</body>
</html>
